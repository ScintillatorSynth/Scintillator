%{
// Generated file, please edit original file at src/core/Intrinsic.cpp.in
// TODO: lint generated file, copy diff back to this one.
#include "core/Intrinsic.hpp"

#include <cstring>

// Some of the gperf generated code uses the register keyword, which is deprecated in C++17.
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wregister"

namespace {

%}
%language=C++
%struct-type
struct IntrinsicPair { const char* name; scin::core::Intrinsic intrinsic; };
%%
normPos,    scin::core::Intrinsic::kNormPos
pi,         scin::core::Intrinsic::kPi
sampler,    scin::core::Intrinsic::kSampler
time,       scin::core::Intrinsic::kTime
texPos,     scin::core::Intrinsic::kTexPos
%%

} // namespace

#pragma clang diagnostic pop

namespace scin { namespace core {

Intrinsic getIntrinsicNamed(const std::string& name) {
    const IntrinsicPair* pair = Perfect_Hash::in_word_set(name.data(), name.size());
    if (!pair) {
        return Intrinsic::kNotFound;
    }
    return pair->intrinsic;
}

} // namespace core

} // namespace scin
